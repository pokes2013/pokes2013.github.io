





## 一、OSPF基本概念

### OSPF协议概述

OSPF全称是<font color='red'>**开放式最短路径优先**</font>。是IETF开发的一种<font color='red'>链路状态路由协议</font>，使用基于带宽的<font color='red'>度量值</font>。采用<font color='red'>SPF算法</font>计算路由，**<font color='orange'>从算法上保证了无环路。</font>**。

协议号是<font color='red'>89</font>，<font color='red'>以组播地址224.0.0.5发送协议包</font>。



<font color='cornflowerblue'>版本2给IPV4用的，版本3是给IPV6用的</font>。通过邻居关系维护路由，避免定期更新对带宽进行的消耗。路由更新效率高，网络收敛快，适用大中型网络。

> 基本思想：每个路由器将其已知的链路状态信息告诉邻居，收敛以后，网络上每个路由器对全网的链路状态有相同的认识。然后，每台路由器根据了解到的全网链路状态，<font color='red'>独立计算路由</font>。

### 与rip协议相比

>  - OSPF使用基于带宽的**<font color='red'>度量值</font>**，选路更加科学。
>  - 当路由条目更新时，仅发送更新路由减小了线路带宽的消耗，收敛速度快。
>  - **<font color='orange'>rip发送整个路由表，且每隔30秒发送一次</font>**。此处收敛是指当网络发生变化时的收敛，网络刚运行OSPF时，网络中的各个路由器学习到路由的时间可能要多于RIP，原因是路由器间选举DR，BDR需要40s，所以如果想加快网络初始化收敛速度，我们常常把线路配置成点到点线路。

### OSPF的三个阶段

>  - 邻居建立阶段：OSPF路由器发送HELLO报文，建立和维护邻居关系。
>  - 路由交换阶段：OSPF路由器发送`DBD`报文描述自己的`LSDB`，再用`LSR`（请求特定的LSA的报文 ），`LSU`（承载LSA的报文）交换自己缺少的`LSA`，使得双方的`LSDB`达到一致，即所有路由器知道网络的全局拓扑关系图。双方`LSDB`一致的标志是邻居达到`FULL`状态。
>  - 路由计算阶段：通过SPF算法计算出去往各个网段的最佳路由。并添加到路由表中。
>



**LSDB（Link-State Database）- 链路状态数据库**

每台 OSPF 路由器都会维护的一个本地数据库，里面存储了整个 OSPF 区域（或自治系统）内的所有链路状态信息，相当于路由器的 “拓扑地图”。OSPF 路由交换阶段的最终目标，就是让同一区域内的所有路由器的 LSDB 完全一致，这样它们计算出的路由才会相同。

**LSA（Link-State Advertisement）- 链路状态通告**

OSPF 中描述链路状态信息的最小单位，是构成 LSDB 的 “数据块”。每一条 LSA 都包含一段具体的网络拓扑信息。路由器将自己知道的本地链路信息（比如直连网段、邻居路由器、链路开销等）封装成 LSA，通过协议报文发送给其他 OSPF 路由器，从而让全网的 LSDB 同步。

**DBD（Database Description）- 数据库描述报文**

OSPF 邻居在同步 LSDB 时，用于交换 LSDB 摘要信息的报文（不是完整的 LSA 内容）。邻居路由器之间通过 DBD 报文 “互相介绍” 自己的 LSDB 里有哪些 LSA（只传递 LSA 的头部信息，包括 LSA 类型、链路 ID、通告路由器、序列号等），从而快速判断对方的 LSDB 中是否有自己缺少的 LSA。

- **交换过程特点**：
  - 两台路由器会协商**主从关系**，主路由器先发送 DBD，从路由器确认后再回应。
  - DBD 报文会被分片传输，每一片都有一个序列号，确保传输有序。

**LSR（Link State Request）- 链路状态请求报文**

路由器在收到邻居的 DBD 报文后，对比自己的 LSDB，发现缺少某些 LSA 或某些 LSA 版本更新时，向邻居发送的请求获取完整 LSA 的报文。

- **作用**相当于对邻居说：“你的 DBD 里提到的 XX 号 LSA 我没有 / 我的版本比较旧，请把完整的 LSA 发给我”。
- **报文内容**：只包含需要请求的 LSA 的头部标识信息（类型、链路 ID、通告路由器），不包含其他冗余内容。

**LSU（Link State Update）- 链路状态更新报文**

用于承载完整 LSA 内容的报文，是 OSPF 中传递 LSA 的核心报文。

- **作用**：当路由器收到邻居的 LSR 报文后，会将对方请求的完整 LSA 封装到 LSU 报文中，发送给邻居；此外，当网络拓扑发生变化时（如链路故障），路由器也会主动发送 LSU 报文，向全网扩散更新后的 LSA。
- **报文内容**：一个 LSU 报文可以包含多条不同类型的 LSA，提高传输效率。

**🔥 五者的关联逻辑（结合 OSPF 路由交换阶段流程）**

1. 邻居路由器互发 **DBD**，交换各自 LSDB 的 LSA 摘要 → 知道对方有哪些 LSA。
2. 对比本地 LSDB，发现缺少 / 过期的 LSA → 向邻居发送 **LSR**，请求这些 LSA。
3. 邻居收到 LSR → 把对应的完整 **LSA** 封装到 **LSU** 中，回复给请求方。
4. 请求方收到 LSU，提取 LSA 并更新自己的 **LSDB**。
5. 重复上述步骤，直到双方 LSDB 完全一致 → 邻居关系进入 FULL 状态。

**总结表格**

| 缩写 |         英文全称         |     中文全称     |                核心角色 / 作用                |
| :--: | :----------------------: | :--------------: | :-------------------------------------------: |
| LSDB |   Link-State Database    |  链路状态数据库  | 本地拓扑地图，存储所有 LSA，是 SPF 计算的依据 |
| LSA  | Link-State Advertisement |   链路状态通告   |  构成 LSDB 的基本数据块，描述具体的拓扑信息   |
| DBD  |   Database Description   |  数据库描述报文  |        交换 LSDB 的 LSA 摘要，判断差异        |
| LSR  |    Link State Request    | 链路状态请求报文 |       请求对方发送自己缺少 / 过期的 LSA       |
| LSU  |    Link State Update     | 链路状态更新报文 | 承载完整 LSA，响应 LSR 请求或主动扩散拓扑变化 |

> 注意：有时为了简写，DBD也叫DD报文

### OSPF的七种状态机

OSPF（开放式最短路径优先）协议通过邻居状态机的一系列状态转换，实现路由器之间的邻居发现、邻接建立及链路状态数据库（LSDB）同步，最终达成路由信息的一致。以下是各状态的详细说明，包含核心动作、触发条件、关键参数及状态特性。

#### 1. Down（初始状态）

这是OSPF邻居关系的初始状态，代表路由器当前未与对应邻居建立任何通信。此时路由器未收到邻居的Hello报文，也不会主动向未发现的邻居发送报文（仅会在接口上周期性发送Hello报文用于邻居发现）。若在Hello定时器超时前仍未收到邻居响应，邻居关系将维持此状态或从其他状态回落至此。

#### 2. Init（初始化状态）

当路由器在接口上收到邻居发送的Hello报文后，进入此状态。Hello报文中携带关键信息，包括**Router ID（路由器标识）、Area ID（区域标识）、Hello定时器值、Dead定时器值、认证信息、DR（指定路由器）/BDR（备份指定路由器）信息、接口优先级**等。此状态为单向通信状态，仅一方收到另一方的Hello报文，尚未完成双向确认，邻居关系处于待建立阶段。

#### 3. Two-way（双向通信状态）

当路由器向邻居发送Hello报文后，也收到了来自该邻居的Hello报文，且双方均能从对方报文中识别出自身的Router ID时，进入此状态。这是一种稳态，适用于网络中非DR、非BDR的路由器之间（仅建立邻居关系，不建立邻接关系）。此时双方完成双向通信确认，成功建立邻居关系，但不会进一步交换链路状态信息，仅通过Hello报文维持邻居关系。

#### 4. Exstart（主从关系确立状态）

此状态为链路状态数据库同步的准备阶段，核心目的是确立主从路由器关系，为后续DBD（数据库描述）报文交换排序。主从关系由Router ID决定，**Router ID值更高的路由器成为主路由器**，负责主动发送DBD报文，从路由器被动响应。需注意，若双方接口的MTU（最大传输单元）值不匹配，将无法完成主从关系确认，邻居关系会一直停留在此状态，无法继续转换。

#### 5. Exchange（数据库交换状态）

主从关系确立后，进入此状态，这是LSDB同步的第一个核心阶段。主路由器先发送DBD报文，DBD报文不包含完整的链路状态信息，仅携带LSDB中各链路状态通告（LSA）的摘要（如LSA类型、链路状态ID、通告路由器、序列号等），用于向邻居告知自身LSDB的整体框架。双方通过交换DBD报文，初步同步彼此LSDB的结构，为后续补充细节做准备。

#### 6. Loading（加载状态）

这是LSDB同步的第二个核心阶段，核心动作是补充交换彼此LSDB中缺失的链路状态信息。双方对接收到的DBD报文进行对比（对比依据为LSA的序列号，序列号越大表示LSA越新），识别出自身缺失的LSA后，发送LSR（链路状态请求）报文向邻居请求对应LSA；收到LSR请求的路由器通过LSU（链路状态更新）报文携带完整LSA进行响应，最后双方通过LSAck（链路状态确认）报文确认接收，完成LSDB的同步。

#### 7. Full（完全邻接状态）

当双方LSDB完全同步后，进入此状态，代表路由器之间成功建立邻接关系（区别于Two-way状态的邻居关系），这是OSPF路由同步后的稳定状态。后续若链路状态发生变化（如接口up/down、路由增减），路由器会通过LSU报文主动向邻接发送更新的LSA，维持LSDB的一致性，进而保证路由信息的准确性。此状态下，邻居之间会持续通过Hello报文监测邻接关系的稳定性。

**OSPF邻居状态机各阶段总结表**

| 状态名称 | 核心动作                                       | 关键参数/依据                               | 状态特性                           | 常见异常点                |
| :------- | :--------------------------------------------- | :------------------------------------------ | :--------------------------------- | :------------------------ |
| Down     | 初始状态，无邻居通信，接口周期性发送Hello报文  | Hello定时器                                 | 初始稳态，无邻居关系               | 接口故障、Hello报文未发送 |
| Init     | 单向接收邻居Hello报文，获取邻居基础信息        | Router ID、Area ID、Hello定时器、认证信息等 | 单向通信，邻居关系待建立           | Area ID不匹配、认证失败   |
| Two-way  | 双向接收Hello报文，确认邻居身份，建立邻居关系  | 双方Router ID互认                           | 双向通信稳态，非DR/BDR间维持此状态 | 无，为正常稳态            |
| Exstart  | 协商主从关系，准备发送DBD报文                  | Router ID（主从判定）、MTU值                | 过渡状态，为LSDB同步做准备         | MTU值不匹配，状态停滞     |
| Exchange | 主从交互DBD报文，同步LSDB整体框架              | DBD报文（LSA摘要）                          | 过渡状态，LSDB同步第一阶段         | 主从协商失败、报文丢失    |
| Loading  | LSR请求缺失LSA，LSU响应更新，LSAck确认         | LSA序列号（对比依据）、LSR/LSU/LSAck        | 过渡状态，LSDB同步第二阶段         | LSA请求超时、报文丢失     |
| Full     | LSDB完全同步，建立邻接关系，后续通过LSU更新LSA | 完整LSDB、LSU报文                           | 最终稳态，邻接关系建立完成         | 链路故障、Hello报文超时   |

### OSPF的三张表

>  - 邻居表（neighbortable）：OSPF用邻居机制来发现和维持路由的存在，邻居表存储了双向通信的邻居关系OSPF路由器列表的信息。
>  - 拓扑表（topology table）：OSPF用LSA（link state Advertisement链路状态通告）来描述网络拓扑信息，然后OSPF路由器用拓扑数据库来存储网络的这些LSA。
>  - OSPF路由表（routingtable）：一对链路状态数据库进行SPF（Dijkstra）计算，而得出的OSPF路由表。



### 初级阶段无法建立邻居的原因

原因其实有很多，我们暂时学到的两个：

- 两台路由器router id 相同导致冲突；
- 两台路由器中间直连的网段必须宣告到相同的area区域；

### 基本配置

```bash
ospf 1 router-id 1.1.1.1    //1为进程号，router-id 为1.1.1.1
area 0 		// 区域为0
network 10.10.10.0 0.255.255.255   //宣告网段，注意是反掩码
```

### RouterID

router id 标识允许ospf的路由器的身份ID。身份ID不能重复

router id的选举规则

>  - 手动指定最为优先，如果没有指定则选举环回口，如果没有环回口则选择物理接口。
>  - 接口地址越大越优先。
>  - 华为设备：手动指定最优先，最先UP的接口最优先。
>  - 手动指定方法：全局 router id 2.2.2.2 给动态路由协议指定router id



## 二、区域的划分

### 划分多区域的目的（面试重点）

>  - 减小了LSDB，降低了路由器的内存消耗并减轻了CPU SPF计算负担。
>  - 减小了LSA洪泛范围，有效地把拓扑变化控制在区域内,提高了网络的稳定性。
>  - 在区域边界可以做路由汇总，减小了路由表，减轻了设备的数据转发负担。
>  - 提高了网络的拓展性，有利于组件大规模网络。

### ospf区域

OSPF 划分区域的核心目的是 **减小链路状态数据库（LSDB）的规模、限制 LSA 泛洪范围、提升网络稳定性和收敛速度**。根据功能和规则的不同，OSPF 区域分为 **2 大类、5 种具体类型**，下面详细说明：

#### 核心区域/骨干区域（Area 0）

**骨干区域（Area 0/Area 0.0.0.0）** 是 OSPF 网络的**核心和必经区域**，所有其他区域都必须直接与它相连，没有例外。

1. 核心作用负责**连接所有非骨干区域**，实现不同区域之间的路由信息交互。
2. **典型场景**企业核心网络层，部署高性能路由器，承载全网的核心路由转发。

#### 非骨干区域(4种功能型区域)

非骨干区域必须**直接与骨干区域（Area 0）相连**（或通过虚链路间接相连），根据路由信息的过滤规则，分为以下 4 种类型：

|       区域类型       |            全称            |                           核心特点                           |                    适用场景                    |
| :------------------: | :------------------------: | :----------------------------------------------------------: | :--------------------------------------------: |
|     **普通区域**     |        Normal Area         |       无特殊限制，接收所有类型的 LSA（Type 1/2/3/4/5）       |       企业的汇聚层网络，需要完整路由信息       |
|     **末梢区域**     |         Stub Area          | 拒绝 Type 5 LSA（外部路由），ABR 下发 Type 3 默认路由区域内**不允许存在 ASBR** |        无外部路由引入需求的边缘分支机构        |
|   **完全末梢区域**   |     Totally Stub Area      | Stub 区域的强化版：拒绝 Type 5 LSA + 非默认的 Type 3 LSA仅保留本区域路由 + ABR 下发的 Type 3 默认路由 |    性能较弱的边缘路由器，需要极度精简路由表    |
|   **非纯末梢区域**   | NSSA（Not-So-Stubby Area） | 拒绝 Type 5 LSA，但**允许区域内存在 ASBR**ASBR 用 Type 7 LSA 发布外部路由，ABR 会将 Type 7 转换为 Type 5 传递到骨干区域 |       需要本地引入外部路由的边缘分支机构       |
| **完全非纯末梢区域** |        Totally NSSA        | NSSA 区域的强化版：拒绝 Type 5 LSA + 非默认的 Type 3 LSA仅保留本区域路由 + ABR 下发的 Type 3 默认路由支持区域内 ASBR 用 Type 7 LSA 发布外部路由 | 既要引入外部路由，又要极度精简路由表的边缘节点 |

**区域间的关键连接规则**

1. **非骨干区域必须直连骨干区域**普通区域、Stub 区域、NSSA 区域等，都必须通过 ABR（区域边界路由器）直接连接 Area 0。

   如果物理上无法直连，需要配置 虚链路（Virtual Link）间接连接到骨干区域。

2. **ABR 的核心职责**

   - 同时属于两个或多个区域（至少包含 Area 0）。
   - 负责在不同区域之间传递汇总路由信息（Type 3 LSA）。
   - 对 Stub/NSSA 区域执行 LSA 过滤和默认路由下发。

**区域类型选择的核心原则**

- 核心层、汇聚层 → **普通区域（Area 0 或非骨干普通区域）**，需要完整路由信息。
- 无外部路由需求的边缘分支 → **Stub/Totally Stub 区域**，精简路由表。
- 有外部路由需求的边缘分支 → **NSSA/Totally NSSA 区域**，兼顾路由精简和外部路由引入。

## OSPF中路由器的角色（重点）

> - `ABR`：区域边界路由器。R2 R3位于两个区域的中间，我们称之为`区域边界路由器` ；他用来链接骨干区域和普通区域。
> - `ASBR` ：自制系统边界路由器。进行了重新分布操作的路由器。例如上图中的R5链接着两个自制系统，我们把R5称作`自制系统边界路由器`，自制系统边界路由器用来链接ospf的AS与外部其他的路由。
> - `Internet Router` ：内部路由器，所有接口都处于同一个区域的路由器被称为`区域内部路由器`。它的LSDB只有本区域的所有LSA.

![在这里插入图片描述](./19-01.ospf基础概念.assets/eebae8748a17408e97f5ffb72160fc72.png)

## OSPF的LSA类型

**OSPF 的 LSA** 全称是 **Link-State Advertisement（链路状态通告）**，它是 OSPF 协议的核心数据载体，用于在 OSPF 网络中传递**链路状态信息**，让每台路由器都能构建出全网一致的拓扑结构。

**核心原理**

OSPF 是一种**链路状态路由协议**，它的工作逻辑和距离矢量协议（如 RIP）完全不同：

1. 每台 OSPF 路由器会先发现自己直连的邻居路由器，并建立邻居关系。
2. 路由器会将自身的**链路状态**（包括直连网络的类型、带宽、开销、邻居信息等）封装成**LSA**。
3. 这些 LSA 会在整个 OSPF 区域（或全网）内**泛洪传播**，确保区域内所有路由器都能收到相同的 LSA 集合。
4. 每台路由器利用收集到的所有 LSA，构建一个**链路状态数据库（LSDB）**，再通过**Dijkstra 算法**计算出到各个网段的最优路由。

### OSPF的7种LSA类型

OSPF 定义了多种 LSA 类型，不同类型负责传递不同范围和内容的信息。

Type 1-5 是基础且最常用的，**Type 6 和 Type 7 是针对特殊场景的 LSA**，下面7种标准LSA的详细说明：

| 类型编号 |           名称           |                      作用                       |               传播范围               |                          特殊说明                           |
| :------: | :----------------------: | :---------------------------------------------: | :----------------------------------: | :---------------------------------------------------------: |
|    1     |        Router LSA        |  描述路由器直连链路的状态（接口、开销、邻居）   |             仅所属区域内             |                  所有 OSPF 路由器都会生成                   |
|    2     |       Network LSA        | 由 DR 生成，描述广播 / 非广播网络内的所有路由器 |             仅所属区域内             |             只在多路访问网络（如以太网）中存在              |
|    3     |   Network Summary LSA    |       由 ABR 生成，传递其他区域的网段路由       |    跨区域（ABR 向非骨干区域发布）    |                     实现区域间路由汇总                      |
|    4     |     ASBR Summary LSA     |    由 ABR 生成，传递 ASBR 的 Router ID 位置     |      跨区域（传递到非骨干区域）      |               让非骨干区域知道外部路由的入口                |
|    5     |     AS External LSA      |    由 ASBR 生成，描述 OSPF 自治系统外的路由     | 整个 AS（除 Stub/Totally Stub 区域） |                     外部路由的核心载体                      |
|    6     | **Group Membership LSA** |           用于 OSPF 多播扩展（MOSPF）           |             仅所属区域内             |           实际网络中极少使用，MOSPF 并未广泛部署            |
|    7     |  **NSSA External LSA**   |     由 NSSA 区域的 ASBR 生成，描述外部路由      |           仅在 NSSA 区域内           | 是 Type 5 的 “替代品”，进入骨干区域前会被 ABR 转换为 Type 5 |

> 注意：
>
> - 以上7种LSA类型，1-5都比较好理解！
> - LSA6我们暂时不接触，可以忽略.
> - LSA7单独在下面说

### 关于LSA7的描述

LSA7由 NSSA 区域的 ASBR 生成，描述外部路由，仅在 NSSA 区域内，这一条我们必须的解释一下！

首先什么是NSSA，NSSA（Not-So-Stubby Area，非纯末梢区域） 是 OSPF 协议中一种特殊的区域类型，它是对 Stub 区域（末梢区域） 的功能扩展，既保留了 Stub 区域精简路由信息的特点，又解决了 Stub 区域无法引入外部路由的问题。

> **末梢区域（Stub Area）** 是 OSPF 协议中为了**精简路由信息、降低路由器资源消耗**而设计的一种**特殊区域类型**，通常用于网络的边缘分支节点（比如企业的远端分支机构）。
>
> OSPF 自治系统（AS）中的骨干区域（Area 0）会传递大量的 **Type 5 LSA（自治系统外部 LSA）**，这些外部路由信息会占用边缘路由器的链路状态数据库（LSDB）空间和 CPU 资源。
>
> 末梢区域的核心作用就是 **拒绝 Type 5 LSA 进入本区域**，只保留必要的区域内路由和区域间路由，从而简化边缘路由器的路由表。

**为什么需要 NSSA 区域？**

要理解 NSSA，首先要知道 **Stub 区域的局限性**：

- Stub 区域的核心规则是**拒绝 Type 5 LSA（自治系统外部 LSA）** 进入，目的是减少区域内路由器的 LSDB（链路状态数据库）大小，降低资源消耗。
- 但 Stub 区域的另一个限制是：**区域内不允许存在 ASBR（自治系统边界路由器）**，也就是无法直接引入外部路由（比如从静态路由、RIP 协议学到的路由）。

而实际网络中，很多分支机构既想享受 Stub 区域的路由精简优势，又需要在本地引入外部路由（比如连接外网的专线），**NSSA 区域就是为解决这个矛盾而设计的**。

**NSSA区域的核心规则**

NSSA 区域继承了 Stub 区域的部分特性，同时新增了关键功能，核心规则如下：

|               规则                |                           具体说明                           |
| :-------------------------------: | :----------------------------------------------------------: |
|        **拒绝 Type 5 LSA**        | 和 Stub 区域一样，不允许其他区域的 Type 5 LSA 进入 NSSA 区域，减少路由信息冗余 |
|      **允许区域内存在 ASBR**      |    这是 NSSA 最核心的特点！区域内的 ASBR 可以引入外部路由    |
| **用 Type 7 LSA 替代 Type 5 LSA** | NSSA 区域的 ASBR 不会生成 Type 5 LSA，而是生成 **Type 7 LSA（NSSA 外部 LSA）** 来描述外部路由 |
|       **Type 7 LSA 的转换**       | 当 Type 7 LSA 要离开 NSSA 区域时，**区域边界的 ABR（区域边界路由器）** 会将其 **转换为 Type 5 LSA**，再传递到 OSPF 骨干区域（Area 0）和其他普通区域 |
|        **默认路由的传递**         | ABR 会向 NSSA 区域内发送 **Type 3 LSA 形式的默认路由（0.0.0.0/0）**，让区域内路由器访问外部网络时，默认转发到 ABR |

**LSA 与 OSPF 区域的关系**

OSPF 划分区域的核心目的之一，就是**控制 LSA 的泛洪范围**，减少路由器的资源消耗：

- 区域内的路由器只需要维护本区域的 LSA（Type1、Type2）。
- 跨区域的路由信息由 ABR 以汇总 LSA（Type3、Type4）的形式传递，避免了大量细节 LSA 的扩散。
- Stub、Totally Stub 等特殊区域，还会进一步过滤 Type5 等外部 LSA，简化路由表。



## 三、OSPF防环机制

### 区域内防环

- 区域内使用SPF算法，算法上防止出现环路。
### 区域间防环

- 所有非骨干区域必须与骨干区域直接相连，区域间路由需经由骨干区域中转。ABR从非骨干区域收到的Type-3 LSA不能用于区域间路由的计算。
- 区域间的水平分割： ABR不会将描述一个Area内部的路由信息的Type-3 LSA再注入回该区域中。

### 外部路由防环

- LSA3和LSA4
  - 由于 LSA4 类的产生以及泛洪范围与 LSA3 一致，所以 LSA4 的防环 规则与 LSA3 一致。LSA3五环，则LSA4无环

- LSA5和LSA7

  - 当 FA 地址为全零，根据 LSA4 类防环；如果 LSA4 无环，那么 LSA5， 7 也无环。

  - 当 FA 地址为非全零，根据 LSA1-3 类防环；如果 LSA1-3 无环，那么 LSA5，7 也无环。

## 四、常用的查看命令

### ospf协议常用的查看命令

```bash
display ospf peer brief  #显示OSPF中各区域邻居的信息，最常用的
display ospf lsdb        #显示OSPF的链路状态数据库（LSDB）信息
display ospf interface   #显示OSPF的接口信息
dis ip routing-table protocol ospf    #显示ospf协议的路由表
```

### ospf 排错命令（非常有用）

```bash
dis ospf error
```

![在这里插入图片描述](./19-01.ospf基础概念.assets/513ed2e4367d45189d3396c504f046a1.png)