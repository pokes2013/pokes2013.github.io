<?xml version="1.0" encoding="UNICODE" ?>
<topo version="1.3.00.100">
    <devices>
        <dev id="2759469D-6574-4efe-B267-E33266774B83" name="PC3" poe="0" model="PC" settings=" -simpc_ip 0.0.0.0  -simpc_mask 0.0.0.0  -simpc_gateway 0.0.0.0  -simpc_mac 54-89-98-97-25-4C  -simpc_mc_dstip 0.0.0.0  -simpc_mc_dstmac 00-00-00-00-00-00  -simpc_dns1 0.0.0.0  -simpc_dns2 0.0.0.0  -simpc_ipv6 ::  -simpc_prefix 128  -simpc_gatewayv6 ::  -simpc_dhcp_state 1  -simpc_dhcpv6_state 0  -simpc_dns_auto_state 1  -simpc_igmp_version 1  -simpc_group_ip_start 0.0.0.0  -simpc_src_ip_start 0.0.0.0  -simpc_group_num 0  -simpc_group_step 0  -simpc_src_num 0  -simpc_src_step 0  -simpc_type MODE_IS_INCLUDE " system_mac="54-89-98-97-25-4C" com_port="0" bootmode="0" cx="791.000000" cy="827.000000" edit_left="818" edit_top="881">
            <slot number="slot17" isMainBoard="1">
                <interface sztype="Ethernet" interfacename="Ethernet" count="1" />
            </slot>
        </dev>
        <dev id="78EFDE71-30E1-44b5-BB2F-7B3E808CACE6" name="Server2" poe="0" model="Server" settings="-domain 0 -eth 54-89-98-79-49-05 -ipaddr 172.168.100.1 -ipmask 255.255.255.0 -gateway 172.168.100.254 -ipv6addr 2000::2 -ipv6gateway 2000::1 -prefixlen 64 -ipv4dns 0.0.0.0 -ipv6dns 3000::1 -dnslist _www.pokes.net_172.168.100.1" system_mac="54-89-98-0F-13-16" com_port="0" bootmode="0" cx="239.000000" cy="475.000000" edit_left="266" edit_top="529">
            <slot number="slot17" isMainBoard="1">
                <interface sztype="Ethernet" interfacename="Ethernet" count="1" />
            </slot>
        </dev>
        <dev id="8B0030F5-A2DC-4f04-B793-C573A672C19F" name="Server1" poe="0" model="Server" settings="-domain 0 -eth 54-89-98-88-78-D8 -ipaddr 8.8.8.8 -ipmask 255.255.255.0 -gateway 8.8.8.254 -ipv6addr 2000::2 -ipv6gateway 2000::1 -prefixlen 64 -ipv4dns 0.0.0.0 -ipv6dns 3000::1 -dnslist NULL" system_mac="54-89-98-73-33-14" com_port="0" bootmode="0" cx="1146.000000" cy="237.000000" edit_left="1173" edit_top="291">
            <slot number="slot17" isMainBoard="1">
                <interface sztype="Ethernet" interfacename="Ethernet" count="1" />
            </slot>
        </dev>
        <dev id="F1E2C1BE-EBD3-45ac-9816-574EAF70CB51" name="PC1" poe="0" model="PC" settings=" -simpc_ip 0.0.0.0  -simpc_mask 0.0.0.0  -simpc_gateway 0.0.0.0  -simpc_mac 54-89-98-49-36-38  -simpc_mc_dstip 0.0.0.0  -simpc_mc_dstmac 00-00-00-00-00-00  -simpc_dns1 0.0.0.0  -simpc_dns2 0.0.0.0  -simpc_ipv6 ::  -simpc_prefix 128  -simpc_gatewayv6 ::  -simpc_dhcp_state 1  -simpc_dhcpv6_state 0  -simpc_dns_auto_state 1  -simpc_igmp_version 1  -simpc_group_ip_start 0.0.0.0  -simpc_src_ip_start 0.0.0.0  -simpc_group_num 0  -simpc_group_step 0  -simpc_src_num 0  -simpc_src_step 0  -simpc_type MODE_IS_INCLUDE " system_mac="54-89-98-49-36-38" com_port="0" bootmode="0" cx="360.000000" cy="830.000000" edit_left="387" edit_top="884">
            <slot number="slot17" isMainBoard="1">
                <interface sztype="Ethernet" interfacename="Ethernet" count="1" />
            </slot>
        </dev>
        <dev id="B6972A0C-C723-4ac4-8CD5-292D40B0798F" name="PC2" poe="0" model="PC" settings=" -simpc_ip 0.0.0.0  -simpc_mask 0.0.0.0  -simpc_gateway 0.0.0.0  -simpc_mac 54-89-98-A5-22-E6  -simpc_mc_dstip 0.0.0.0  -simpc_mc_dstmac 00-00-00-00-00-00  -simpc_dns1 0.0.0.0  -simpc_dns2 0.0.0.0  -simpc_ipv6 ::  -simpc_prefix 128  -simpc_gatewayv6 ::  -simpc_dhcp_state 1  -simpc_dhcpv6_state 0  -simpc_dns_auto_state 1  -simpc_igmp_version 1  -simpc_group_ip_start 0.0.0.0  -simpc_src_ip_start 0.0.0.0  -simpc_group_num 0  -simpc_group_step 0  -simpc_src_num 0  -simpc_src_step 0  -simpc_type MODE_IS_INCLUDE " system_mac="54-89-98-A5-22-E6" com_port="0" bootmode="0" cx="605.000000" cy="826.000000" edit_left="632" edit_top="880">
            <slot number="slot17" isMainBoard="1">
                <interface sztype="Ethernet" interfacename="Ethernet" count="1" />
            </slot>
        </dev>
        <dev id="A5CD1856-FE0E-4fbe-A3D6-DCEC058B1697" name="PC4" poe="0" model="PC" settings=" -simpc_ip 9.9.9.9  -simpc_mask 255.255.255.0  -simpc_gateway 9.9.9.254  -simpc_mac 54-89-98-44-29-F2  -simpc_mc_dstip 0.0.0.0  -simpc_mc_dstmac 00-00-00-00-00-00  -simpc_dns1 0.0.0.0  -simpc_dns2 0.0.0.0  -simpc_ipv6 ::  -simpc_prefix 128  -simpc_gatewayv6 ::  -simpc_dhcp_state 0  -simpc_dhcpv6_state 0  -simpc_dns_auto_state 0  -simpc_igmp_version 1  -simpc_group_ip_start 0.0.0.0  -simpc_src_ip_start 0.0.0.0  -simpc_group_num 0  -simpc_group_step 0  -simpc_src_num 0  -simpc_src_step 0  -simpc_type MODE_IS_INCLUDE " system_mac="54-89-98-44-29-F2" com_port="0" bootmode="0" cx="1147.000000" cy="378.000000" edit_left="1174" edit_top="432">
            <slot number="slot17" isMainBoard="1">
                <interface sztype="Ethernet" interfacename="Ethernet" count="1" />
            </slot>
        </dev>
        <dev id="57729AED-7292-403a-8EB5-D182D11B0FAA" name="AR2" poe="0" model="AR3260" settings="" system_mac="00-E0-FC-1E-32-1A" com_port="2001" bootmode="0" cx="879.000000" cy="294.000000" edit_left="913" edit_top="263">
            <slot number="slot17" isMainBoard="1">
                <interface sztype="Ethernet" interfacename="GE" count="1" />
                <interface sztype="Ethernet" interfacename="GE" count="2" />
            </slot>
        </dev>
        <dev id="3D1088A2-394B-4a60-8184-4B150C952E33" name="LSW1" poe="0" model="S5700" settings="" system_mac="4C-1F-CC-77-3E-24" com_port="2002" bootmode="0" cx="545.000000" cy="473.000000" edit_left="625" edit_top="494">
            <slot number="slot17" isMainBoard="1">
                <interface sztype="Ethernet" interfacename="GE" count="24" />
            </slot>
        </dev>
        <dev id="F5668797-33B1-4346-89AE-2C9F035959DC" name="LSW2" poe="0" model="S3700" settings="" system_mac="4C-1F-CC-C2-4B-94" com_port="2003" bootmode="0" cx="360.000000" cy="637.000000" edit_left="336" edit_top="661">
            <slot number="slot17" isMainBoard="1">
                <interface sztype="Ethernet" interfacename="Ethernet" count="22" />
                <interface sztype="Ethernet" interfacename="GE" count="2" />
            </slot>
        </dev>
        <dev id="1DFFDE70-05A0-4925-9103-03F2990CCA47" name="AR1" poe="0" model="AR3260" settings="" system_mac="00-E0-FC-1F-29-B9" com_port="2000" bootmode="0" cx="543.000000" cy="293.000000" edit_left="569" edit_top="258">
            <slot number="slot17" isMainBoard="1">
                <interface sztype="Ethernet" interfacename="GE" count="1" />
                <interface sztype="Ethernet" interfacename="GE" count="2" />
            </slot>
        </dev>
        <dev id="FC614514-2F3B-4179-8C9E-B8D159F2D050" name="LSW3" poe="0" model="S3700" settings="" system_mac="4C-1F-CC-CC-73-4A" com_port="2004" bootmode="0" cx="696.000000" cy="638.000000" edit_left="786" edit_top="657">
            <slot number="slot17" isMainBoard="1">
                <interface sztype="Ethernet" interfacename="Ethernet" count="22" />
                <interface sztype="Ethernet" interfacename="GE" count="2" />
            </slot>
        </dev>
    </devices>
    <lines>
        <line srcDeviceID="F1E2C1BE-EBD3-45ac-9816-574EAF70CB51" destDeviceID="F5668797-33B1-4346-89AE-2C9F035959DC">
            <interfacePair lineName="Copper" srcIndex="0" srcBoundRectIsMoved="0" srcBoundRect_X="387.000000" srcBoundRect_Y="813.816223" srcOffset_X="0.000000" srcOffset_Y="0.000000" tarIndex="0" tarBoundRectIsMoved="0" tarBoundRect_X="387.000000" tarBoundRect_Y="707.183777" tarOffset_X="0.000000" tarOffset_Y="0.000000" />
        </line>
        <line srcDeviceID="B6972A0C-C723-4ac4-8CD5-292D40B0798F" destDeviceID="FC614514-2F3B-4179-8C9E-B8D159F2D050">
            <interfacePair lineName="Copper" srcIndex="0" srcBoundRectIsMoved="1" srcBoundRect_X="650.814575" srcBoundRect_Y="814.130371" srcOffset_X="-80.000000" srcOffset_Y="-2.000000" tarIndex="0" tarBoundRectIsMoved="1" tarBoundRect_X="704.185425" tarBoundRect_Y="703.869629" tarOffset_X="-83.000000" tarOffset_Y="-1.000000" />
        </line>
        <line srcDeviceID="2759469D-6574-4efe-B267-E33266774B83" destDeviceID="FC614514-2F3B-4179-8C9E-B8D159F2D050">
            <interfacePair lineName="Copper" srcIndex="0" srcBoundRectIsMoved="1" srcBoundRect_X="798.606018" srcBoundRect_Y="815.416199" srcOffset_X="8.000000" srcOffset_Y="-3.000000" tarIndex="1" tarBoundRectIsMoved="1" tarBoundRect_X="742.393982" tarBoundRect_Y="703.583801" tarOffset_X="8.000000" tarOffset_Y="-2.000000" />
        </line>
        <line srcDeviceID="3D1088A2-394B-4a60-8184-4B150C952E33" destDeviceID="1DFFDE70-05A0-4925-9103-03F2990CCA47">
            <interfacePair lineName="Copper" srcIndex="0" srcBoundRectIsMoved="0" srcBoundRect_X="571.520203" srcBoundRect_Y="456.818909" srcOffset_X="0.000000" srcOffset_Y="0.000000" tarIndex="0" tarBoundRectIsMoved="0" tarBoundRect_X="570.479797" tarBoundRect_Y="363.181091" tarOffset_X="0.000000" tarOffset_Y="0.000000" />
        </line>
        <line srcDeviceID="F5668797-33B1-4346-89AE-2C9F035959DC" destDeviceID="3D1088A2-394B-4a60-8184-4B150C952E33">
            <interfacePair lineName="Copper" srcIndex="1" srcBoundRectIsMoved="0" srcBoundRect_X="419.314484" srcBoundRect_Y="635.353638" srcOffset_X="0.000000" srcOffset_Y="0.000000" tarIndex="1" tarBoundRectIsMoved="1" tarBoundRect_X="539.685547" tarBoundRect_Y="528.646362" tarOffset_X="-58.000000" tarOffset_Y="0.000000" />
        </line>
        <line srcDeviceID="3D1088A2-394B-4a60-8184-4B150C952E33" destDeviceID="FC614514-2F3B-4179-8C9E-B8D159F2D050">
            <interfacePair lineName="Copper" srcIndex="2" srcBoundRectIsMoved="1" srcBoundRect_X="601.154114" srcBoundRect_Y="531.857117" srcOffset_X="14.000000" srcOffset_Y="-1.000000" tarIndex="2" tarBoundRectIsMoved="1" tarBoundRect_X="693.845886" tarBoundRect_Y="633.142883" tarOffset_X="10.000000" tarOffset_Y="-3.000000" />
        </line>
        <line srcDeviceID="3D1088A2-394B-4a60-8184-4B150C952E33" destDeviceID="78EFDE71-30E1-44b5-BB2F-7B3E808CACE6">
            <interfacePair lineName="Copper" srcIndex="3" srcBoundRectIsMoved="1" srcBoundRect_X="528.817139" srcBoundRect_Y="500.282227" srcOffset_X="-42.000000" srcOffset_Y="-17.000000" tarIndex="0" tarBoundRectIsMoved="1" tarBoundRect_X="309.182831" tarBoundRect_Y="501.717773" tarOffset_X="-11.000000" tarOffset_Y="-19.000000" />
        </line>
        <line srcDeviceID="1DFFDE70-05A0-4925-9103-03F2990CCA47" destDeviceID="57729AED-7292-403a-8EB5-D182D11B0FAA">
            <interfacePair lineName="Copper" srcIndex="1" srcBoundRectIsMoved="1" srcBoundRect_X="613.183594" srcBoundRect_Y="320.128510" srcOffset_X="-9.000000" srcOffset_Y="9.000000" tarIndex="0" tarBoundRectIsMoved="1" tarBoundRect_X="862.816406" tarBoundRect_Y="320.871490" tarOffset_X="-29.000000" tarOffset_Y="9.000000" />
        </line>
        <line srcDeviceID="57729AED-7292-403a-8EB5-D182D11B0FAA" destDeviceID="8B0030F5-A2DC-4f04-B793-C573A672C19F">
            <interfacePair lineName="Copper" srcIndex="1" srcBoundRectIsMoved="0" srcBoundRect_X="948.232117" srcBoundRect_Y="311.984161" srcOffset_X="0.000000" srcOffset_Y="0.000000" tarIndex="0" tarBoundRectIsMoved="1" tarBoundRect_X="1130.767822" tarBoundRect_Y="273.015839" tarOffset_X="-65.000000" tarOffset_Y="-18.000000" />
        </line>
        <line srcDeviceID="57729AED-7292-403a-8EB5-D182D11B0FAA" destDeviceID="A5CD1856-FE0E-4fbe-A3D6-DCEC058B1697">
            <interfacePair lineName="Copper" srcIndex="2" srcBoundRectIsMoved="0" srcBoundRect_X="947.207092" srcBoundRect_Y="333.915649" srcOffset_X="0.000000" srcOffset_Y="0.000000" tarIndex="0" tarBoundRectIsMoved="1" tarBoundRect_X="1132.792969" tarBoundRect_Y="392.084351" tarOffset_X="-65.000000" tarOffset_Y="11.000000" />
        </line>
    </lines>
    <shapes>
        <shape type="2" filloption="0" color="16744448" upleftcorner="754,167" width="683" height="330" startpt="0,0" endpt="0,0" borderStyle="0" borderWidth="1" />
    </shapes>
    <txttips>
        <txttip left="344" top="908" right="439" bottom="925" content="192.168.10.0" fontname="Consolas" fontstyle="0" editsize="100" txtcolor="-16777216" txtbkcolor="-7278960" charset="1" />
        <txttip left="586" top="909" right="681" bottom="926" content="192.168.20.0" fontname="Consolas" fontstyle="0" editsize="100" txtcolor="-16777216" txtbkcolor="-7278960" charset="1" />
        <txttip left="771" top="909" right="866" bottom="926" content="192.168.30.0" fontname="Consolas" fontstyle="0" editsize="100" txtcolor="-16777216" txtbkcolor="-7278960" charset="1" />
        <txttip left="235" top="424" right="337" bottom="456" content="172.168.100.1&#x0D;&#x0A;64.1.1.3" fontname="Consolas" fontstyle="0" editsize="100" txtcolor="-16777216" txtbkcolor="-7278960" charset="1" />
        <txttip left="607" top="286" right="671" bottom="303" content="64.1.1.1" fontname="Consolas" fontstyle="0" editsize="100" txtcolor="-16777216" txtbkcolor="-7278960" charset="1" />
        <txttip left="796" top="288" right="868" bottom="305" content="64.1.1.10" fontname="Consolas" fontstyle="0" editsize="100" txtcolor="-16777216" txtbkcolor="-7278960" charset="1" />
        <txttip left="1236" top="429" right="1293" bottom="446" content="9.9.9.9" fontname="Consolas" fontstyle="0" editsize="100" txtcolor="-16777216" txtbkcolor="-7278960" charset="1" />
        <txttip left="1246" top="277" right="1303" bottom="294" content="8.8.8.8" fontname="Consolas" fontstyle="0" editsize="100" txtcolor="-16777216" txtbkcolor="-7278960" charset="1" />
        <txttip left="1040" top="193" right="1104" bottom="210" content="Internat" fontname="Consolas" fontstyle="0" editsize="100" txtcolor="-16777216" txtbkcolor="-7278960" charset="1" />
        <txttip left="72" top="137" right="582" bottom="216" content="1、网络中有3个不同部门，均可自动获取地址&#x0D;&#x0A;2、各部门可互相访间，也可访问内网DNS服务器172.168.100.1&#x0D;&#x0A;3、PC1不允许访问互联网，PC2和PC3可以访问互联网&#x0D;&#x0A;4、内网服务器对外发布的地址为64.1.1.3，互联网用户可以访问这台服务器&#x0D;&#x0A;5、内网服务器的城名是www.pokes.net，各pc可以通过域名访问" fontname="Consolas" fontstyle="0" editsize="100" txtcolor="-16777216" txtbkcolor="-7278960" charset="1" />
        <txttip left="400" top="475" right="449" bottom="492" content="vlan40" fontname="Consolas" fontstyle="0" editsize="100" txtcolor="-16777216" txtbkcolor="-7278960" charset="1" />
        <txttip left="420" top="569" right="469" bottom="586" content="vlan10" fontname="Consolas" fontstyle="0" editsize="100" txtcolor="-16777216" txtbkcolor="-7278960" charset="1" />
        <txttip left="620" top="759" right="669" bottom="776" content="vlan20" fontname="Consolas" fontstyle="0" editsize="100" txtcolor="-16777216" txtbkcolor="-7278960" charset="1" />
        <txttip left="781" top="756" right="830" bottom="773" content="vlan30" fontname="Consolas" fontstyle="0" editsize="100" txtcolor="-16777216" txtbkcolor="-7278960" charset="1" />
        <txttip left="506" top="398" right="563" bottom="415" content="vlan100" fontname="Consolas" fontstyle="0" editsize="100" txtcolor="-16777216" txtbkcolor="-7278960" charset="1" />
        <txttip left="658" top="572" right="700" bottom="589" content="trunk" fontname="Consolas" fontstyle="0" editsize="100" txtcolor="-16777216" txtbkcolor="-7278960" charset="1" />
        <txttip left="487" top="350" right="566" bottom="367" content="10.10.10.1" fontname="Consolas" fontstyle="0" editsize="100" txtcolor="-16777216" txtbkcolor="-7278960" charset="1" />
        <txttip left="579" top="428" right="658" bottom="445" content="10.10.10.2" fontname="Consolas" fontstyle="0" editsize="100" txtcolor="-16777216" txtbkcolor="-7278960" charset="1" />
        <txttip left="941" top="512" right="1745" bottom="872" content="&#x0D;&#x0A;知识补漏&#x0D;&#x0A;&#x0D;&#x0A;1、NAT配置&#x0D;&#x0A;&#x0D;&#x0A;[ar1]acl 2000&#x0D;&#x0A;[ar1-acl-basic-2000]rule permit source 192.168.0.0 0.0.255.255&#x0D;&#x0A;[ar1-acl-basic-2000]q&#x0D;&#x0A;[ar1]nat address-group 1 64.1.1.5 64.1.1.5  //使用64.1.1.5来做nat，不能使用64.1.1.1因为被接口已经占用了。&#x0D;&#x0A;[ar1]int g0/0/1&#x0D;&#x0A;[ar1-GigabitEthernet0/0/1]nat outbound 2000 address-group 1&#x0D;&#x0A;&#x0D;&#x0A;2、PC1不允许上网&#x0D;&#x0A;&#x0D;&#x0A;[ar1-acl-basic-2001]rule deny source 192.168.10.0 0.0.0.255   //不允许PC1段&#x0D;&#x0A;[ar1-acl-basic-2001]rule permit source any   //允许其他&#x0D;&#x0A;[ar1-acl-basic-2001]q&#x0D;&#x0A;[ar1]int g0/0/0&#x0D;&#x0A;[ar1-GigabitEthernet0/0/0]traffic-filter inbound acl 2001   //调用acl2001&#x0D;&#x0A;&#x0D;&#x0A;3、内网服务器发布到外网&#x0D;&#x0A;&#x0D;&#x0A;[ar1-GigabitEthernet0/0/1]nat server global 64.1.1.3 inside 172.168.100.1 " fontname="Consolas" fontstyle="0" editsize="100" txtcolor="-16777216" txtbkcolor="-7278960" charset="1" />
    </txttips>
</topo>
