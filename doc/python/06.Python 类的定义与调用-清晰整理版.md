# Python 类的定义与调用（清晰整理版）
## 一、核心前置：类的定义
### 1. 基础语法
```python
class 类名():  # 类名遵循大驼峰命名法（如Person、Student）
    # 初始化方法：创建对象时自动执行，绑定实例属性
    def __init__(self, 属性1, 属性2, ...):
        self.属性1 = 属性1
        self.属性2 = 属性2
    
    # 实例方法：类中定义的函数，第一个参数必为self
    def 方法名(self, 形参...):
        方法体逻辑
```
### 2. 关键注意
- `self`：代表当前实例对象本身，调用方法时无需手动传参，Python 自动传入；
- 类名规范：大驼峰（首字母大写，单词直接连接，如 `Student`）。

## 二、核心流程：类的实例化（创建对象）
### 1. 核心逻辑
类是「模板/蓝图」，无法直接调用属性/方法，必须先实例化生成对象（具体个体），才能调用。
### 2. 实例化语法
```python
对象名 = 类名(初始化方法所需参数)  # 参数为__init__中除self外的所有参数
```
### 3. 基础案例
```python
class Student():
    def __init__(self, name, age, score):
        self.name = name
        self.age = age
        self.score = score
    
    def show_info(self):
        print(f"姓名：{self.name}，年龄：{self.age}，分数：{self.score}")

# 实例化创建对象
stu1 = Student("张三", 18, 95)
stu2 = Student("李四", 17, 58)
```

## 三、核心调用：对象操作属性和方法（99%场景）
### 1. 调用语法
| 类型       | 语法                  |
|------------|-----------------------|
| 实例属性   | 对象名.属性名         |
| 实例方法   | 对象名.方法名(参数...) |

### 2. 调用案例
```python
# 调用/修改属性
print(stu1.name)  # 输出：张三
stu2.score = 62   # 修改属性值

# 调用方法（无需传self）
stu1.show_info()  # 输出：姓名：张三，年龄：18，分数：95
```

## 四、特殊调用方式
### 1. 无参构造（无__init__方法）
类未定义`__init__`时，Python 自动提供默认空初始化方法，可无参实例化：
```python
class Teacher():
    def say_hello(self):
        print("大家好，我是老师！")

tea1 = Teacher()  # 无参实例化
tea1.say_hello()  # 调用方法
```
### 2. 直接调用类（匿名对象）
适合仅调用一次方法的场景，对象无法复用：
```python
# 生成匿名对象，调用方法后销毁
Student("赵六", 20, 77).show_info()  # 输出：姓名：赵六，年龄：20，分数：77
```

## 五、进阶调用：类属性/类方法/静态方法
### 1. 类属性（类所有对象共享）
定义在类内部、方法外部的变量，支持「类名调用」和「对象调用」：
```python
class Car():
    brand = "比亚迪"  # 类属性
    def __init__(self, color):
        self.color = color  # 实例属性

print(Car.brand)  # 类名调用（推荐）
car1 = Car("白色")
print(car1.brand) # 对象调用
```
### 2. 类方法（@classmethod 装饰）
第一个参数为`cls`（代表类本身），用于操作类属性：
```python
class Car():
    brand = "比亚迪"
    @classmethod
    def change_brand(cls, new_brand):
        cls.brand = new_brand

Car.change_brand("特斯拉")  # 类名调用（推荐）
print(Car.brand)  # 输出：特斯拉
```
### 3. 静态方法（@staticmethod 装饰）
无`self/cls`强制参数，等价于类内的普通函数：
```python
class Tools():
    @staticmethod
    def add(a, b):
        return a + b

print(Tools.add(10, 20))  # 类名调用（推荐）
tool = Tools()
print(tool.add(30, 40))   # 对象调用
```

## 六、综合案例（完整可运行）
```python
class Animal:
    # 类属性
    type = "动物"

    # 有参初始化方法
    def __init__(self, name, food):
        self.name = name  # 实例属性
        self.food = food  # 实例属性

    # 实例方法
    def eat(self):
        print(f"{self.name}爱吃{self.food}")

    # 类方法
    @classmethod
    def change_type(cls, new_type):
        cls.type = new_type

    # 静态方法
    @staticmethod
    def run():
        print("所有动物都会跑")

# 1. 实例化
cat = Animal("波比", "猫条")

# 2. 调用实例属性/方法
print(Animal.type)  # 类属性：动物
print(cat.name)     # 实例属性：波比
cat.eat()           # 实例方法：波比爱吃猫条

# 3. 调用类方法/静态方法
cat.change_type("脊椎动物")
print(Animal.type)  # 类属性修改后：脊椎动物
cat.run()           # 静态方法：所有动物都会跑

# 4. 匿名对象调用
Animal("小鸟", "虫子").eat()  # 小鸟爱吃虫子
```

## 七、常见问题解答
### 1. 调用方法后出现None？
原因：`show_info()` 方法无`return`语句，Python 会默认返回`None`；
解决：直接调用方法（`stu1.show_info()`），无需额外加`print()`。

### 2. 类方法为何能修改类属性？
- 类方法由`@classmethod`装饰，第一个参数`cls`代表「类本身」，Python 自动传入；
- `cls.type = new_type` 等价于`Animal.type = new_type`，直接修改类属性；
- 类属性为所有实例共享，修改后所有对象的类属性同步更新。

## 八、核心知识点总结
1. 类调用核心流程：先实例化生成对象，再通过对象调用属性/方法；
2. 实例方法（self）：操作单个对象的实例属性；
3. 类方法（cls）：操作类本身的类属性，所有对象共享修改结果；
4. 静态方法：无self/cls，仅为代码归类的普通工具函数；
5. 特殊调用：无参构造（无__init__）、匿名对象（类名()直接调用）。

## 九、方法类型对比表
| 方法类型 | 装饰器       | 第一个参数 | 参数含义       | 主要作用                     |
|----------|--------------|------------|----------------|------------------------------|
| 实例方法 | 无           | self       | 当前实例对象   | 操作/修改实例属性（self.xxx） |
| 类方法   | @classmethod | cls        | 当前类本身     | 操作/修改类属性（cls.xxx）   |
| 静态方法 | @staticmethod| 无         | 无特殊含义     | 类内普通工具函数             |