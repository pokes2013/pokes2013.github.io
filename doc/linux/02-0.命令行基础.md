# Linux 命令行基础（零基础入门 + 实用技巧）

Linux 命令行是运维、开发、网络安全等 IT 领域的核心工具，掌握其基础操作能大幅提升工作效率。本文从「环境准备→核心命令→进阶技巧→实战场景」展开，结合示例和结构化说明，帮助快速上手。

## 一、环境准备

### 1. 常见 Linux 发行版

- **桌面版**：Ubuntu（友好入门）、Linux Mint、Fedora（适合开发）
- **服务器版**：CentOS（稳定，企业常用）、Red Hat Enterprise Linux（RHEL，商业支持）、Debian（轻量稳定）
- **嵌入式 / 特殊用途**：Arch Linux（滚动更新，自定义强）、Kali Linux（渗透测试专用）

### 2. 命令行入口

- **本地终端**：

  - Ubuntu：Ctrl+Alt+T 快捷键打开
  - CentOS/RHEL：应用菜单搜索「Terminal」

- **远程连接**：使用 Xshell、SecureCRT、Putty 或 Windows 自带的「终端」（SSH 协议），命令格式：

  ```bash
  ssh 用户名@服务器IP  # 示例：ssh root@192.168.1.100
  ```

  

## 二、命令行基础概念

### 1. 命令行提示符（Prompt）

登录后显示的格式（不同发行版略有差异）：

```bash
root@localhost:~#  # root用户（管理员），# 为提示符
user@localhost:~$  # 普通用户，$ 为提示符
```

- `root`：当前用户名
- `localhost`：主机名
- `~`：当前工作目录（`~` 代表用户家目录，root 家目录为 `/root`，普通用户为 `/home/用户名`）
- `#`/`$`：命令输入提示符（区分管理员和普通用户）

### 2. 命令格式

```bash
命令 [选项] [参数]  # 选项和参数可选，多个选项可合并
```

- 示例：

  ```bash
  ls -l /home  # ls：命令（列出目录内容），-l：选项（长格式显示），/home：参数（目标目录）
  ```

  

### 3. 核心快捷键（必背）

| 快捷键 | 功能描述                         |
| ------ | -------------------------------- |
| Tab    | 自动补全命令 / 文件名 / 目录名   |
| Ctrl+C | 终止当前运行的命令               |
| Ctrl+D | 退出当前终端（等价于 exit 命令） |
| Ctrl+L | 清屏（等价于 clear 命令）        |
| Ctrl+R | 搜索历史命令（输入关键词匹配）   |
| ↑/↓    | 切换历史命令                     |
| Ctrl+A | 光标移到命令行开头               |
| Ctrl+E | 光标移到命令行结尾               |

## 三、文件系统与目录操作（核心命令）

Linux 文件系统是**树状结构**，根目录为 `/`，所有文件 / 目录都从根目录衍生。

### 1. 目录切换：`cd`（change directory）

| 命令          | 功能描述             | 示例                                   |
| ------------- | -------------------- | -------------------------------------- |
| `cd 目录路径` | 切换到指定目录       | `cd /home/user`（绝对路径）            |
| `cd ..`       | 切换到上级目录       | `cd ..`（从 `/home/user` 到 `/home`）  |
| `cd ~`        | 切换到用户家目录     | `cd ~`（无论当前在哪，回到家目录）     |
| `cd -`        | 切换到上一次工作目录 | `cd -`（在 `/home` 和 `/root` 间切换） |

### 2. 目录查看：`ls`（list）

| 命令    | 功能描述                                  | 示例           |
| ------- | ----------------------------------------- | -------------- |
| `ls`    | 列出当前目录内容（默认短格式）            | `ls`           |
| `ls -l` | 长格式显示（权限、大小、修改时间等）      | `ls -l /etc`   |
| `ls -a` | 显示所有文件（包括隐藏文件，以 `.` 开头） | `ls -a ~`      |
| `ls -h` | 人性化显示文件大小（KB/MB/GB）            | `ls -lh /home` |
| `ls -R` | 递归显示子目录内容                        | `ls -R /var`   |

### 3. 目录创建：`mkdir`（make directory）

| 命令                | 功能描述                                   | 示例                             |
| ------------------- | ------------------------------------------ | -------------------------------- |
| `mkdir 目录名`      | 创建单个目录                               | `mkdir test`                     |
| `mkdir -p 目录路径` | 递归创建多级目录（父目录不存在则自动创建） | `mkdir -p /home/user/docs/linux` |

### 4. 目录删除：`rmdir` / `rm`

| 命令            | 功能描述                         | 示例              |
| --------------- | -------------------------------- | ----------------- |
| `rmdir 目录名`  | 删除空目录（非空目录报错）       | `rmdir test`      |
| `rm -r 目录名`  | 递归删除目录（包括子目录和文件） | `rm -r test`      |
| `rm -rf 目录名` | 强制递归删除（忽略警告，慎用！） | `rm -rf /tmp/old` |

> ⚠️ 警告：`rm -rf /` 会删除根目录下所有文件，导致系统崩溃，绝对禁止使用！

## 四、文件操作命令

### 1. 文件创建：`touch`

```bash
touch 文件名  # 创建空文件，若文件已存在则更新修改时间
touch file1.txt file2.md  # 同时创建多个文件
```

### 2. 文件复制：`cp`（copy）

| 命令格式                | 功能描述                     | 示例                      |
| ----------------------- | ---------------------------- | ------------------------- |
| `cp 源文件 目标路径`    | 复制文件到指定路径           | `cp file1.txt /home/user` |
| `cp -r 源目录 目标路径` | 递归复制目录（包括子内容）   | `cp -r docs /home/user`   |
| `cp -p 源文件 目标`     | 复制时保留文件权限、修改时间 | `cp -p file1.txt backup/` |

### 3. 文件移动 / 重命名：`mv`（move）

| 命令格式             | 功能描述            | 示例                          |
| -------------------- | ------------------- | ----------------------------- |
| `mv 源文件 新文件名` | 重命名文件          | `mv file1.txt note.txt`       |
| `mv 源文件 目标路径` | 移动文件到指定路径  | `mv note.txt /home/user/docs` |
| `mv 源目录 目标路径` | 移动目录（无需 -r） | `mv docs /tmp`                |

### 4. 文件删除：`rm`（remove）

| 命令格式        | 功能描述                   | 示例            |
| --------------- | -------------------------- | --------------- |
| `rm 文件名`     | 删除文件（需确认）         | `rm note.txt`   |
| `rm -f 文件名`  | 强制删除文件（无需确认）   | `rm -f old.txt` |
| `rm -rf 目录名` | 强制删除目录及内容（慎用） | `rm -rf temp/`  |

### 5. 文件内容查看：`cat`/`more`/`less`/`head`/`tail`

| 命令             | 功能描述                             | 示例                                   |
| ---------------- | ------------------------------------ | -------------------------------------- |
| `cat 文件名`     | 一次性显示文件全部内容（适合小文件） | `cat /etc/hosts`                       |
| `more 文件名`    | 分页显示（按 Enter 下一行，Q 退出）  | `more /var/log/messages`               |
| `less 文件名`    | 分页显示（支持上下键滚动，Q 退出）   | `less /etc/passwd`                     |
| `head 文件名`    | 显示文件前 N 行（默认前 10 行）      | `head -5 /etc/passwd`（前 5 行）       |
| `tail 文件名`    | 显示文件后 N 行（默认后 10 行）      | `tail -3 /var/log/messages`（后 3 行） |
| `tail -f 文件名` | 实时监控文件更新（日志常用）         | `tail -f /var/log/nginx/access.log`    |

## 五、文件权限管理（重要）

Linux 每个文件 / 目录都有**权限属性**，控制不同用户的访问权限（所有者、组用户、其他用户）。

### 1. 查看权限：`ls -l`

示例输出：

```bash
-rw-r--r-- 1 root root 120 Aug 20 14:30 file1.txt
drwxr-xr-x 2 user user 4096 Aug 20 15:00 docs
```

- 第一列：权限字符串（共 10 位）
  - 第 1 位：文件类型（`-` 普通文件，`d` 目录，`l` 软链接，`b` 块设备，`c` 字符设备）
  - 第 2-4 位：所有者权限（`r` 读，`w` 写，`x` 执行，`-` 无权限）
  - 第 5-7 位：组用户权限
  - 第 8-10 位：其他用户权限
- 示例解析：
  - `-rw-r--r--`：普通文件，所有者可读可写（`rw-`），组用户可读（`r--`），其他用户可读（`r--`）
  - `drwxr-xr-x`：目录，所有者可读可写可执行（`rwx`），组用户可读可执行（`r-x`），其他用户可读可执行（`r-x`）

### 2. 修改权限：`chmod`（change mode）

#### （1）符号法（推荐，易理解）

格式：`chmod [用户类型][操作符][权限] 文件名`

- 用户类型：`u`（所有者）、`g`（组用户）、`o`（其他用户）、`a`（所有用户）
- 操作符：`+`（添加权限）、`-`（移除权限）、`=`（设置权限）
- 权限：`r`（读）、`w`（写）、`x`（执行）

示例：

```bash
chmod u+x file1.txt  # 给所有者添加执行权限
chmod g-w,o-r file1.txt  # 组用户移除写权限，其他用户移除读权限
chmod a=rw file1.txt  # 所有用户设置为可读可写（无执行权限）
chmod u=rwx,g=rx,o=r docs/  # 目录所有者读写执行，组用户读执行，其他用户读
```

#### （2）数字法（高效，常用）

权限对应数字：`r=4`、`w=2`、`x=1`、`-=0`，每组权限为 3 个数字之和：

- 示例：

  ```bash
  chmod 755 file1.txt  # 7=4+2+1（u=rwx），5=4+1（g=rx），5=4+1（o=rx）
  chmod 644 file1.txt  # 6=4+2（u=rw），4=4（g=r），4=4（o=r）（文件默认权限）
  chmod 777 docs/      # 所有用户可读可写可执行（慎用，安全风险）
  ```

  

### 3. 修改所有者 / 组：`chown`/`chgrp`

```bash
chown 用户名 文件名  # 修改文件所有者
chown user:group file1.txt  # 同时修改所有者和组（user为用户，group为组）
chown -R user:group docs/  # 递归修改目录及内容的所有者和组

chgrp 组名 文件名  # 单独修改文件所属组
chgrp group1 file1.txt
```

## 六、系统信息与管理命令

### 1. 查看系统信息

| 命令                  | 功能描述                   | 示例                                                |
| --------------------- | -------------------------- | --------------------------------------------------- |
| `uname -a`            | 查看系统内核版本、主机名等 | `uname -a`                                          |
| `cat /etc/os-release` | 查看 Linux 发行版信息      | `cat /etc/os-release`                               |
| `hostname`            | 查看 / 设置主机名          | `hostname`（查看）、`hostname server01`（临时设置） |
| `whoami`              | 查看当前登录用户名         | `whoami`                                            |
| `w`                   | 查看当前系统登录用户及活动 | `w`                                                 |

### 2. 进程管理

| 命令             | 功能描述                                | 示例                                      |                                |
| ---------------- | --------------------------------------- | ----------------------------------------- | ------------------------------ |
| `ps -ef`         | 查看所有进程（系统级）                  | `ps -ef                                   | grep nginx`（查找 nginx 进程） |
| `top`            | 实时监控进程资源占用（按 Q 退出）       | `top`                                     |                                |
| `kill -9 进程ID` | 强制终止进程（根据 ps 或 top 获取 PID） | `kill -9 1234`（终止 PID 为 1234 的进程） |                                |

### 3. 磁盘管理

| 命令          | 功能描述                           | 示例           |
| ------------- | ---------------------------------- | -------------- |
| `df -h`       | 查看磁盘分区使用情况（人性化显示） | `df -h`        |
| `du -sh 目录` | 查看目录占用磁盘空间               | `du -sh /home` |

### 4. 软件包管理（常用）

#### （1）Debian/Ubuntu 系列（apt 命令）

```bash
sudo apt update  # 更新软件源列表
sudo apt install 软件名  # 安装软件（示例：sudo apt install nginx）
sudo apt remove 软件名  # 卸载软件
sudo apt upgrade  # 升级已安装软件
```

#### （2）CentOS/RHEL 系列（yum 命令）

```bash
sudo yum update  # 更新软件源
sudo yum install 软件名  # 安装软件（示例：sudo yum install httpd）
sudo yum remove 软件名  # 卸载软件
sudo yum upgrade  # 升级软件
```

## 七、进阶技巧（提升效率）

### 1. 命令别名（alias）

自定义常用命令的简写，临时生效（重启终端失效）：

```bash
alias ll='ls -l'  # 输入 ll 等价于 ls -l
alias rm='rm -i'  # 执行 rm 时自动提示确认（避免误删）
```

永久生效：编辑用户家目录的 `.bashrc` 文件，添加别名后执行 `source ~/.bashrc` 生效。

### 2. 管道符（|）

将前一个命令的输出作为后一个命令的输入：

```bash
ls -l /etc | grep 'conf'  # 查找 /etc 目录下文件名包含 conf 的文件
ps -ef | grep nginx  # 过滤 nginx 相关进程
cat /var/log/messages | more  # 分页查看日志文件
```

### 3. 重定向（> / >> / <）

- `>`：覆盖写入文件（若文件不存在则创建，存在则清空原有内容）
- `>>`：追加写入文件（保留原有内容，在末尾添加）
- `<`：从文件读取输入（较少用）

示例：

```bash
ls -l > file_list.txt  # 将 ls -l 的输出写入 file_list.txt（覆盖）
echo "Hello Linux" >> note.txt  # 将字符串追加到 note.txt
cat < input.txt  # 从 input.txt 读取内容并显示（等价于 cat input.txt）
```

### 4. 查找文件 / 内容

#### （1）查找文件：`find`

```bash
find 搜索路径 -name 文件名  # 按文件名查找（示例：find /home -name "*.txt"）
find /etc -type d -name "conf"  # 按类型查找目录（-type d 表示目录，f 表示文件）
find /var -size +10M  # 查找大于10MB的文件（+表示大于，-表示小于）
```

#### （2）查找文件内容：`grep`

```bash
grep "关键词" 文件名  # 查找文件中包含关键词的行（示例：grep "error" /var/log/messages）
grep -r "关键词" 目录  # 递归查找目录下所有文件中的关键词（示例：grep -r "root" /etc）
grep -i "关键词" 文件名  # 忽略大小写查找
```

## 八、实战场景示例

### 场景 1：查看系统日志中的错误信息

```bash
tail -f /var/log/messages  # 实时监控系统日志
grep -i "error" /var/log/messages  # 查找所有包含 error 的日志行
```

### 场景 2：备份文件并压缩

```bash
cp -r /home/user/docs /tmp/  # 复制目录到 /tmp
tar -zcvf docs_backup.tar.gz /tmp/docs  # 压缩为 tar.gz 格式（z：gzip压缩，c：创建，v：显示过程，f：指定文件名）
rm -rf /tmp/docs  # 删除临时目录
```

### 场景 3：查看端口占用情况

```bash
# Debian/Ubuntu
sudo apt install net-tools  # 安装 netstat 工具
netstat -tuln | grep 80  # 查找 80 端口是否被占用（t：TCP，u：UDP，l：监听中，n：显示端口号）

# CentOS/RHEL
sudo yum install net-tools
netstat -tuln | grep 80
```

## 九、学习资源推荐

1. **入门书籍**：《Linux 命令行与 Shell 脚本编程大全》、《鸟哥的 Linux 私房菜》
2. **在线教程**：
   - Linux 公社：https://www.linuxidc.com/
   - 菜鸟教程：https://www.runoob.com/linux/linux-command-manual.html
3. **实战练习**：
   - 虚拟机：VMware Workstation / VirtualBox 安装 Linux 发行版（推荐 Ubuntu 22.04）
   - 在线实验平台：实验楼（https://www.shiyanlou.com/）、牛客网 Linux 实战

## 总结

Linux 命令行的核心是「多练多记」，重点掌握**目录 / 文件操作、权限管理、进程 / 日志查看**等基础命令，再通过管道符、重定向、查找等技巧组合使用，就能满足日常工作需求。后续可结合具体场景（如服务器运维、渗透测试）深入学习 Shell 脚本、自动化工具等进阶内容。