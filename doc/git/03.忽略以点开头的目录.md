

# git常用设置-push时忽略以点开头的目录



**全局配置 Git 忽略规则**（所有 Git 项目都自动生效，无需在每个项目中单独创建.gitignore），这可以通过 Git 的全局忽略配置实现，具体步骤如下：

## 一、核心步骤：全局忽略配置

### 1.创建全局忽略文件

首先，在你的用户目录下创建一个全局忽略文件（文件名可自定义，常用 `.gitignore_global` 或 `.gitignore`）：

Windows系统（命令行 / PowerShell）：

```bash
# 进入用户目录（如 C:\Users\你的用户名\）
cd ~
# 创建全局忽略文件 .gitignore_global
type nul > .gitignore_global
```

### 2.配置 Git 全局忽略文件路径

执行以下命令，告诉 Git 这个全局忽略文件的位置（永久生效）：

```bash
git config --global core.excludesfile ~/.gitignore_global
```

> 注意：这里不是说仅忽略用户目录，无论你的git仓库创建在本地哪个目录都会忽略。

## 二、配置全局忽略规则（关键）

打开你创建的 `~/.gitignore_global` 文件，添加需要全局忽略的规则（比如你之前需要的「所有以.开头的目录」）：

```bash
# 全局忽略所有以 . 开头的隐藏目录
.*
# 例外：不忽略 .gitignore 系列文件（避免本地配置文件被忽略）
!.gitignore
!.gitignore_global
!.gitconfig
# 可按需添加其他全局忽略规则（如编辑器缓存、系统文件等）
.DS_Store       # Mac系统隐藏文件
Thumbs.db       # Windows系统缩略图文件
*.log           # 全局忽略所有.log日志文件
node_modules/   # 全局忽略node项目依赖目录（按需添加）
```

## 三、验证全局配置是否生效

验证全局配置是否成功读取：

```bash
# 查看Git全局配置，确认 core.excludesfile 已配置
git config --global --list
```

执行后，若能看到 `core.excludesfile=xxx/.gitignore_global`（对应你的文件路径），说明路径配置成功。

> 验证忽略规则是否生效：
>
> 新建一个空白 Git 项目，创建一个以。开头的目录（如 `.vscode`），执行 `git status`，若该目录不显示在「未追踪文件」中，说明全局忽略规则已生效。

## 四、全过程展示

```cmd
C:\Users\username>type nul > .gitignore_global

C:\Users\username>git config --global core.excludesfile ~/.gitignore_global

C:\Users\username>git config --global --list
filter.lfs.clean=git-lfs clean -- %f
filter.lfs.smudge=git-lfs smudge -- %f
filter.lfs.process=git-lfs filter-process
filter.lfs.required=true
user.name=pokes
user.email=50272022+pokes2013@users.noreply.github.com
core.excludesfile=~/.gitignore_global

C:\Users\username>
```

